
# MVC ( Model-View-Controller ) 

<br/>

### MVC 디자인 패턴은 뭘까?

model은 application 이 무엇을 하는지 말한다. 화면에 어떻게 그려질 것인지에 대한 것과는 관련이 없는것이다.  
계산기 앱에서는 계산을 하는 부분일 것이다.  
Controller는 모델이 스크린에 어떻게 표현될것인지 말해준다.   

View는 컨트롤러의 하위종속자라고 볼 수 있다.  
컨트롤러가 화면에 무엇인가를 보여주기 위해 사용할 것이다.  
모델이 들어있는 버튼, 레일블 들이 컨트롤러가 보여주기 위해 필요한 것들인 것이다.  
사용자에게 입력을 받아 모델을 업데이트하기도 합니다.  

—> 중요한 것은 캠프간의 소통. 

<br/>

### View와 Model의 관계

뷰와 모델은 절대 소통할 수 없다. UI에 의존적인 뷰에게 이야기 할 것이 없는 것이다.  
뷰는 컨트롤러의 종속자일 뿐이다.  

<br/>

### View와 Controller의 관계

그렇다면 뷰가 컨트롤러에게 말을 걸 수 있을까?  
할 수도 있고 못 할 수도 있다. 뷰의 문제는 뷰의 종속객체들은 모두 일반화 된것이기 때문이다.  
따라서 뷰는 컨트롤러와 소통하기에 제한적인 것이다  

뷰는 자신이 보여주고 있는 데이터를 소유할 수 없다.
데이터를 소유할 수 없다면 어떻게 표시 할수 있을까  
뷰는 컨트롤러에 매번 물어볼 것이다. 컨트롤러는 모델에서 데이터를 가져올수 잇을 것이다  

뷰가 컨트롤러에게 데이터를 물어보는 방법에 대해 알아보자  
뷰가 스크롤뷰가 바뀌었어~ 배율을 확대했어 이런것은 모델에 영향을 줄 수도 있는 것이다.  
또한 뷰가 무언가를 해도 괜찮은지 확신도 필요하다  
지금 수직으로 스크롤해도 될까?이런것을 말이다. 뷰는 그런것들을 컨트롤러에 물어보고 싶을 것이다.  
should, will, did 같은 말이 포함될 것이다.   

이런것들은 delegate로 이루어진다. 뷰는 컨트롤러에게 책임을 위임하기 떄문에 이 네이밍은 적절하다  
delegate는 그냥 뷰 안에 있는 프로퍼티 인데, 너는 프로퍼티의 클래스가 뭔지 물어볼 수도 있는데 뷰는 클래스에 대해 아무것도 모르니까 프로토콜이 되는 것이다.  
프로토콜은 다른 녀석이 대신 실행하기로 약속한 메서드를 모아둔것이다. 뷰는 클래스가 무슨 일은 하는지 모르니까 프로토콜로 약속을 하는 것이다.  

데이터가 어디있는지 몇개 있냐고 물어보기도 한다 뷰는 데이터에 대해 물어봐
무슨 일이 생기고 있는지 알게 되고 그것을 화면에 보여줄 것이다.  
이것도 위임(delegate) 과정으로 알 수 있는데, 여기서 이것을 data source라고 한다.

따라서 어떤 뷰에는 data source라는 프로퍼티가 있고, 프로토콜의 포인터는 다른 객체가 될것이다.  
프로토콜의 포인터는 다른 객체가 될 것이다. 컨트롤러는 자기 자신을 그렇게 지정해서 뷰를 위해 데이터를 제공하는데 관여하게 된다.

이러한 것들이 뷰가 컨트롤러와 소통할 수 있는 방법이다.

<br/>

### Controller와 Model의 관계

그렇다면 모델은 어떨까?  
컨트롤러에게 직접 이야기 할 수 있을까 아니다.  
왜나며하면 컨트롤러는 UI로직을 다루기 때문에 모델에 컨트롤러는 별개이다.

하지만 UI와 상관없는 모델이 값이 바뀌는 데이터를 가지면 어떻게 될까?  
이때는 notification이 알려줄 것이다. 컨트롤러는 채널을 맞출 뿐이다

<br/>

### Controller와 View 의 관계는 잘 알겠는데 Model은 어떤것을 구현해야하는가?

모델은 앱을 설계하는 쪽에 가깝다 앱이 근본적으로 무슨 일을 하는지 생각을 해야하는 것이다.  
모델은 어떻게 보여질 지가 아닌 앱이 실질적으로 무슨일을 하는 건지가 중요하다  
알고리즘, 데이터, 데이터베이스가 모델에 있다.

<br/>

### 앱에서의 MVC

일반적으로 MVC 하나가 화면 하나를 제어한다.   
진짜 앱을 만들기 위해서는 여러개의 MVC를 만들어서 결합해야한다.   

의사소통이 잘 정리가 되어야하는데 다른 MVC로 향하는 화살표는 View를 향해야한다.  
화살표가 아무곳이나 향한다면 앱이 어떻게 작동하는지 이해할 방법이 없게 된다.


<br/>
<br/>

해당 내용은 스탠포드 MVC 강의를 보고 정리한 글입니다.
